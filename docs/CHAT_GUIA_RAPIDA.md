# ğŸ’¬ Sistema de Chat - GuÃ­a RÃ¡pida de Uso

## Â¿QuÃ© es?

Un sistema de chat en tiempo real que permite a turistas y guÃ­as comunicarse sobre sus reservas activas. Las ventanas de chat se abren desde la parte inferior de la pantalla, estilo Facebook 2018.

## ğŸš€ Inicio RÃ¡pido

### Para Turistas:
1. Realiza una reserva de cualquier experiencia
2. El icono de chat ğŸ’¬ aparecerÃ¡ en la barra superior
3. Haz click en el icono para ver tus conversaciones
4. Selecciona una conversaciÃ³n para abrir la ventana de chat
5. Â¡Chatea con tu guÃ­a sobre la experiencia!

### Para GuÃ­as:
1. Recibe una reserva de un turista
2. El icono de chat ğŸ’¬ aparecerÃ¡ en la barra superior
3. Haz click en el icono para ver tus conversaciones
4. Selecciona una conversaciÃ³n para abrir la ventana de chat
5. Â¡Chatea con tu turista sobre la experiencia!

## âœ¨ CaracterÃ­sticas Destacadas

### InformaciÃ³n de Reserva Visible
Cada ventana de chat muestra:
- ğŸ“ Nombre de la experiencia
- ğŸ“… Fecha de la reserva
- ğŸ• Hora de inicio
- ğŸ‘¥ NÃºmero de viajeros
- ğŸ’° Precio total
- ğŸ·ï¸ Estado actual (Pendiente/Confirmada/En Curso/Completada)

### Ventanas Flotantes
- âœ… Se abren desde la parte inferior derecha
- âœ… Puedes abrir hasta 3 ventanas simultÃ¡neamente
- âœ… Minimiza haciendo click en el header
- âœ… Cierra con el botÃ³n X

### ActualizaciÃ³n AutomÃ¡tica
- âœ… Los mensajes se actualizan cada 5 segundos
- âœ… No necesitas recargar la pÃ¡gina
- âœ… Scroll automÃ¡tico a nuevos mensajes

## ğŸ¨ CÃ³mo Se Ve

```
Barra Superior:
[Logo] [Inicio] [Experiencias]  ğŸŒ™  ğŸ’¬Â³  ğŸ””Â²  [Perfil]
                                    â†‘
                              3 mensajes sin leer

Ventana de Chat (inferior derecha):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ MarÃ­a LÃ³pez      âŒ„  âœ•  â”‚ â† Click aquÃ­ para minimizar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ Tour gastronÃ³mico      â”‚
â”‚ ğŸ“… 2025-11-20  ğŸ• 10:00  â”‚ â† InformaciÃ³n de la reserva
â”‚ ğŸ‘¥ 2 personas  ğŸ’° $80    â”‚   (siempre visible)
â”‚ âœ… Confirmada             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Hola, Â¿incluye almuerzo?  â”‚ â† Mensaje recibido
â”‚   10:30 AM                â”‚
â”‚                           â”‚
â”‚   Â¡SÃ­! Todo incluido     â”‚ â† Tu mensaje
â”‚              10:31 AM    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Escribe mensaje...] [âœˆï¸]â”‚ â† Escribe aquÃ­
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”’ Restricciones

### Â¿QuiÃ©n puede chatear?
Solo usuarios que tienen una **reserva activa** entre ellos:
- Turista â†”ï¸ GuÃ­a de su experiencia reservada
- GuÃ­a â†”ï¸ Turista que reservÃ³ su experiencia

### Estados permitidos:
- âœ… Pendiente
- âœ… Confirmada
- âœ… En Curso
- âœ… Completada
- âŒ Cancelada (NO permite chat)

## ğŸ’¡ Consejos de Uso

### Para Turistas:
- Pregunta al guÃ­a sobre detalles de la experiencia
- Confirma la hora y lugar de encuentro
- Comparte preferencias alimentarias o necesidades especiales
- Solicita recomendaciones sobre quÃ© llevar

### Para GuÃ­as:
- Da la bienvenida a tus turistas
- Comparte informaciÃ³n Ãºtil antes de la experiencia
- Confirma asistencia y detalles logÃ­sticos
- Responde dudas rÃ¡pidamente para generar confianza

## ğŸ¯ Atajos de Teclado

- **Enter**: Enviar mensaje
- **Click en header**: Minimizar/Maximizar ventana
- **X**: Cerrar ventana

## ğŸ“± Responsive

### Desktop:
- Ventanas de 320px de ancho
- Hasta 3 ventanas abiertas
- Posicionadas en la esquina inferior derecha

### Mobile:
- Ventanas adaptadas al ancho de pantalla
- Se recomienda 1 ventana a la vez
- Mismo funcionamiento que desktop

## â“ Preguntas Frecuentes

### Â¿Por quÃ© no veo el icono de chat?
- Necesitas tener al menos una reserva activa
- Debes estar autenticado (iniciado sesiÃ³n)

### Â¿Por quÃ© no puedo chatear con alguien?
- Solo puedes chatear si tienes una reserva con esa persona
- La reserva debe estar en estado activo (no cancelada)

### Â¿Los mensajes se borran?
- No, todos los mensajes se guardan en la base de datos
- Puedes ver el historial completo al abrir la conversaciÃ³n

### Â¿Puedo chatear con mÃºltiples personas?
- SÃ­, puedes abrir hasta 3 ventanas de chat simultÃ¡neamente

### Â¿CÃ³mo sÃ© si tengo mensajes nuevos?
- El icono ğŸ’¬ muestra un badge verde con el nÃºmero
- En el dropdown ves cuÃ¡ntos mensajes sin leer por conversaciÃ³n

## ğŸ”§ SoluciÃ³n de Problemas

### Los mensajes no se actualizan
1. Verifica tu conexiÃ³n a internet
2. Espera 5 segundos (actualizaciÃ³n automÃ¡tica)
3. Cierra y vuelve a abrir la ventana

### No puedo enviar mensajes
1. Verifica que el campo no estÃ© vacÃ­o
2. MÃ¡ximo 5000 caracteres por mensaje
3. Verifica que la reserva siga activa

### La ventana no se abre
1. Refresca la pÃ¡gina
2. Verifica que tengas una reserva activa
3. Revisa la consola del navegador (F12)

## ğŸ“ Soporte

Para mÃ¡s informaciÃ³n tÃ©cnica, consulta:
- `docs/SISTEMA_CHAT.md` - DocumentaciÃ³n completa tÃ©cnica
- `docs/MANUAL_USUARIO_COMPLETO.md` - Manual general del sistema

---

## ğŸŠ Â¡Disfruta del Chat!

El sistema de chat hace que la comunicaciÃ³n entre turistas y guÃ­as sea fÃ¡cil, rÃ¡pida y contextual. Â¡AprovÃ©chalo al mÃ¡ximo para mejorar tus experiencias!

